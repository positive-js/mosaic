<div class="docs-example-viewer__wrapper">
    <div *ngIf="exampleData" class="docs-example-viewer__example">
        <div class="docs-example-viewer-body">
            <ng-template [cdkPortalOutlet]="selectedPortal"></ng-template>
        </div>
    </div>

    <div *ngIf="exampleData; else lostExample" [class.docs-example-viewer__source]="true"
         [class.docs-example-viewer__source_hidden]="!showSource">
        <stackblitz-button [example]="example"></stackblitz-button>
        <mc-tab-group mc-light-tabs (selectedTabChange)="setNumbers()">
            <mc-tab *ngFor="let tabName of getExampleTabNames()" [label]="tabName">
                <div class="docs-example-source-wrapper">
                    <pre class="docs-example-numbers hljs-numbers">{{numbers}}</pre>
                    <span class="docs-example-source_copy">
                            <i class="mc mc-copy_16"
                               (click)="copyCode($event)"
                               #tooltip="mcTooltip"
                               mcTooltip
                               mcTitle="Содержимое скопировано в буфер обмена"
                               mcTrigger="manual"
                               mcPlacement="bottom"></i>
                    </span>
                    <pre class="docs-example-source hljs">
                        <doc-viewer #viewer [documentUrl]="exampleTabs[tabName]" class="docs-example-source-viewer"></doc-viewer>
                        <div class="hljs-shadow {{showSource ? shadowHide : null}}"></div>
                    </pre>
                </div>
            </mc-tab>
        </mc-tab-group>
        <div [class.docs-example-source__switcher]="true"
             [class.docs-example-source__switcher_hide]="hideSwitcher">
            <div  [class.docs-example-source__show]="true"
                  [class.docs-example-source__hide]="showSource">
                <span class="mc-link mc-link_underlined" (click)="toggleSourceView()"
                   [ngClass]="{'mc-active' : active, 'mc-focused': focus}">
                    <span class="mc-link__text">Показать полностью</span>
                    <i class="mc mc-angle-down-M_16"></i>
                </span>
            </div>
            <div [class.docs-example-source__show]="true"
                 [class.docs-example-source__hide]="!showSource">
                <span class="mc-link mc-link_underlined" (click)="toggleSourceView()"
                   [ngClass]="{'mc-active' : active, 'mc-focused': focus}">
                    <span class="mc-link__text">Свернуть</span>
                    <i class="mc mc-angle-up-M_16"></i>
                </span>
            </div>
        </div>
    </div>

    <ng-template #lostExample>
        <div class="mc-alert mc-alert_error mc-alert_dismissible">
            <span>Oops, this code example is lost... But you can help us find it!
                Just send a Pull Request to this repository:
                <a class="docs-markdown__a" href="//github.com/positive-js/mosaic/pulls"> Mosaic</a>
            </span>
        </div>
    </ng-template>
</div>
