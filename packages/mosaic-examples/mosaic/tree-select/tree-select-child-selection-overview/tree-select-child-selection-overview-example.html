<mc-form-field>
    <mc-tree-select
        [multiple]="true"
        [formControl]="control"
        (selectionChange)="onSelectionChange($event)">

        <mc-tree-selection
            [dataSource]="dataSource"
            [treeControl]="treeControl">
            <mc-tree-option
                #option
                *mcTreeNodeDef="let node"
                mcTreeNodePadding>

                <mc-pseudo-checkbox [state]="pseudoCheckboxState(option)"></mc-pseudo-checkbox>
                {{ treeControl.getViewValue(node) }}
            </mc-tree-option>

            <mc-tree-option
                #option
                *mcTreeNodeDef="let node; when: hasChild"
                mcTreeNodePadding>

                <mc-pseudo-checkbox [state]="pseudoCheckboxState(option)"></mc-pseudo-checkbox>

                <i mc-icon="mc-angle-down-S_16" [style.transform]="treeControl.isExpanded(node) ? '' : 'rotate(-90deg)'" mcTreeNodeToggle></i>
                {{ treeControl.getViewValue(node) }}
            </mc-tree-option>
        </mc-tree-selection>
    </mc-tree-select>
</mc-form-field>
