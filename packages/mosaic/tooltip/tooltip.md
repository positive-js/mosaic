Тултип (Tooltip) — подсказка, которая появляется при наведении указателя или при фокусе на элемент интерфейса. В тултипе не может быть интерактивных элементов.

### Когда использовать

* Для коротких поясняющих текстов об элементах интерфейса.
* Для вывода подписей к иконкам, рядом с которыми нет текста со значением.
* Если текст не помещается в отведенном месте и обрезается многоточием (например, в колонках таблицы). В этом случае в тултипе выводится полный текст.
* Нужно показать подсказку с заголовками, списками, таблицей и т.д.

### Структура компонента

#### Вариации

<div class="mc-alert mc-alert_info" style="margin-top: 15px;">
    <i class="mc mc-icon mc-info-o_16 mc-alert__icon"></i>
    Нестандартный тултип всегда предпочтительнее системного. Не используйте системный и нестандартный тултип в одном интерфейсе. 
</div>

##### Простой

Ширина тултипа зависит от содержимого и ограничена максимальной шириной 300 пикселей.

Высота тултипа зависит от содержимого.

Текст тултипа должен оставаться очень кратким, в идеале не больше 70 символов.

<div style="margin-top: 15px;">
    <img src="./assets/images/tooltip/tooltip__structure.png" alt="tooltip structure" style="max-width: 240px"/>
</div>

* Тело тултипа с текстом
* Указатель-дятел

<br>

Тултип может занимать две и более строк:

https://www.figma.com/file/xDLkQRzr7g0RVrj8A0676E/Guide-patterns?node-id=17228%3A33918

Иногда удобнее, если текст в тултипе не переносится, а написан в одну строку, например, при сравнении хеш-сумм, чтении адресов электронной почты или путей к файлам и папкам.

Для подобных случаев максимальную ширину тултипа можно не устанавливать:

https://wiki.ptsecurity.com/pages/viewpage.action?pageId=105253786&preview=/105253786/105253792/tooltip-no-max-width.png

##### Сложный

<div class="mc-alert mc-alert_warning" style="margin-top: 15px;">
    <i class="mc mc-icon mc-error_16 mc-alert__icon"></i>
    Не используйте интерактивные элементы (кнопки, ссылки и пр.) в сложном тултипе, пользоваться ими может быть просто невозможно. Если нужно использовать интерактивные элементы возьмите&nbsp;<a href="/popover">Поповер</a>.
</div>

<div style="margin-top: 15px;">
    <img src="./assets/images/tooltip/tooltip-hard__structure.jpg" alt="tooltip hard structure" style="max-width: 540px"/>
</div>

##### Обязательные элементы

* Тело тултипа
* Указатель-дятел

##### Необязательные элементы

* Шапка

##### Размерность

В отличии от простого тултипа, сложный тултип имеет фиксированную ширину. Чтобы оптимально использовать пространство, полезно заложить несколько вариантов ширины.

Высота тултипа зависит от контента. Рекомендуемая максимальная высота 480px, может быть увеличена на усмотрение дизайнера.

### Описание работы

#### Как открыть

* Навести указатель на тригерный элемент
* Фокус

#### Как закрыть

* Убрать указатель с тригерного элемента
* Убрать фокус
* Проскроллить страницу
* Нажать клавишу Esc

#### Задержка

* При наведении на элемент тултип появляется с задержкой 0,4 секунды
* При переключении фокуса или наведении на другой элемент с тултипом задержка работает по следующему принципу:
    + первый тултип появляется с задержкой 0,4 секунды
    + последующие тултипы появляются мгновенно
    + если тултип от предыдущего элемента исчез и прошло не менее 2 с, то снова появляется задержка 0,4 секунды
* Тултип исчезает мгновенно

### Расположение

У тултипа четыре варианта расположения относительно тригерного элемента.

По умолчанию дятел выравнивается по центру тригерного элемента

* __Сверху__ (по умолчанию, если не задано другое расположение)

https://www.figma.com/file/PQLjFxrEYbwjkrvGx5D2vO/Docs?node-id=20%3A1811

* __Снизу__

https://www.figma.com/file/PQLjFxrEYbwjkrvGx5D2vO/Docs?node-id=20%3A1831

* __Слева__

https://www.figma.com/file/PQLjFxrEYbwjkrvGx5D2vO/Docs?node-id=20%3A1852

* __Слева-сверху__ _опционально_<br>

Верхний край тултипа выравнивается по верхнему краю тригерного элемента. Дятел у верхнего края тултипа

https://www.figma.com/file/PQLjFxrEYbwjkrvGx5D2vO/Docs?node-id=20%3A1867

* __Справа__

https://www.figma.com/file/PQLjFxrEYbwjkrvGx5D2vO/Docs?node-id=20%3A1893

* __Справа-сверху__ _опционально_<br>

Если для тултипа не хватает места в границах экрана, он попытается перейти в другое положение и остаться на экране.

https://www.figma.com/file/PQLjFxrEYbwjkrvGx5D2vO/Docs?node-id=20%3A1913

### Стилизация тултипов

#### Простой тултип

<font color="red">__Тут надо просто вывести тело тултипа__</font>

Для светлой темы используется темный тултип:

https://www.figma.com/file/xDLkQRzr7g0RVrj8A0676E/Guide-patterns?node-id=17228%3A33918

Для темной темы используется светлый тултип:

https://www.figma.com/file/xDLkQRzr7g0RVrj8A0676E/Guide-patterns?node-id=17228%3A33918

Для предупреждений используется отдельный вид тултипов. Например, он появляется в случае попытки ввода запрещенного символа в поле (подробнее см. [Валидация](https://wiki.ptsecurity.com/pages/viewpage.action?pageId=96287564)):

https://www.figma.com/file/xDLkQRzr7g0RVrj8A0676E/Guide-patterns?node-id=17228%3A33918

#### Сложный тултип

<div class="mc-alert mc-alert_warning" style="margin-top: 15px;">
    <i class="mc mc-icon mc-error_16 mc-alert__icon"></i>
    В сложном тултипе все наоборот для светлой темы используется светлый тултип, а для темной темы используется темный.
</div>

Предупреждающий не используется.

### Связанные компоненты

[Дропдаун](/dropdown) — кнопка-меню, открывающая выпадающий список доступных действий. Работает как группа контролов — в таб-последовательность попадает только тригерный элемент. Поповер же работает по логике модального диалога: при открытии перехватывает фокус и ведёт его по контролам.

[Поповер](/popover) — небольшой немодальный диалог без затемнения, который открывается рядом с тригерным элементом. Он может содержать текст, поля ввода, любые элементы управления. 
