Поле с временем (timepicker) — это специальное поле ввода, которое позволяет вводить только время.

### Когда использовать
Используйте, когда нужно указать время.

<!-- example(timepicker-validation-symbols) -->

### Структура компонента
Состоит из поля ввода, маски и иконки (опционально).

<div style="margin-top: 15px;">
<img src="./assets/images/timepicker/timepicker-structure.jpg" alt="timepicker structure" width="338"/>
</div>


#### Вариации
Маска ввода бывает в двух вариациях, с возможностью ввести время в формате:

<br>
<div class="mc-alert mc-alert_info">
    <i class="mc mc-icon mc-info-o_16 mc-alert__icon"></i>
    Нужную вариацию выбирают дизайнер и аналитик в зависимости от задачи
</div>

<!-- example(timepicker-variations) -->

### Описание работы
Время можно вводить двумя способами: с помощью клавиш цифр и с помощью клавиш стрелок на клавиатуре.

<br>
<div class="mc-alert mc-alert_warning">
    <i class="mc mc-icon mc-error_16 mc-alert__icon"></i>
    Ввод времени допустим только в 24-часовом формате.
</div>

При вводе значений, в зависимости то того, в каком месте (часы, минуты или секунды) установлен фокус, поле в этом месте выполняет проверку на допустимые значения:
Часы: 0–23;
Минуты и секунды: 0–59.

После ввода двух цифр (часы или минуты), подставляется двоеточие, каретка перескакивает в следующую часть маски (в минуты или в секунды). После ввода двух цифр секунд каретка не меняет своего положения, двоеточие не подставляется.

#### Ввод с помощью стрелок
Клавиши ↑ ↓ увеличивают или уменьшают выделенную единицу (часы, минуты или секунды) времени на 1. Увеличение (уменьшение) затрагивает только выделенную единицу, например в часах за 23, следует 0, и наоборот.

Подробнее про ввод смотри в разделе <a target="_self" href="#%D1%84%D0%BE%D0%BA%D1%83%D1%81-%D0%B8-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D0%BA%D0%BB%D0%B0%D0%B2%D0%B8%D0%B0%D1%82%D1%83%D1%80%D0%BE%D0%B9">Фокус и работа с клавиатурой</a>.

#### Состояние по умолчанию

В большинстве случаев поле пустое, показана только маска ввода.

В других случаях, когда указание времени не важно для пользователя, но важно для системы, будет полезным поле предзаполнить текущим временем (под текущим понимается время открытия страницы, оно не меняется динамически).

### Валидация

#### Проверка во время ввода
##### Ввод букв и символов

Срабатывает [валидация во время ввода значений](/validation/overview#во-время-ввода-значения):

- при вводе букв в любую часть маски;
- при вводе первого символа, кроме цифр.

<!-- example(timepicker-validation-symbols) -->

##### Ввод символов и цифр

Если после ввода двух цифр (в часы или минуты) вводится любой символ, кроме цифр и букв, поле игнорирует этот ввод.

Если после ввода одной цифры (в часы или минуты) вводится любой символ, кроме цифр и букв, поле воспринимает этот символ как разделитель и преобразует его в двоеточие, а перед введенной цифрой подставляется ноль.

Если ввести значения больше 23 для часов и 59 для минут и секунд, они преобразуются в 23 для часов и 59 для минут и секунд.

<!-- example(timepicker-validation-symbols) -->

#### Проверка скопированных значений

При копирование значений из буфера или вставке их с помощью перетаскивания (drag-and-drop), срабатывает валидация во время ввода значений.

Если в скопированном значении содержались символы, кроме цифр и букв, к ним применяются правила из раздела выше ввод символов и цифр.

<!-- example(timepicker-validation-symbols) -->

### Фокус и работа с клавиатурой

<style>
table th:first-of-type {
    width: 35%;
}
table th:nth-of-type(2) {
    width: 65%;
}
</style>

| Клавиша | Действие                                                                                                                                                                                  |
|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span class="hot-key-Button">Tab</span> \ <span class="hot-key-Button">Shift</span> + <span class="hot-key-Button">Tab</span>    | Перевести фокус в/из поле с временем.                                                                                                                                                     |
| <span class="hot-key-Button">↓</span>    <span class="hot-key-Button">↑</span>        | Каретка установлена на любой единице (часы, минуты или секунды) времени → уменьшение или увеличение значения на 1.                                                                        |
| <span class="hot-key-Button">→</span>                                                 | Перенести каретку на следующий символ. Если каретка установлена за последней единицей времени (минут или секунд, в зависимости от вариации), поместить каретку перед первой цифрой часа   |
| <span class="hot-key-Button">←</span>                                                 | Перенести каретку на предыдущий символ. Если каретка установлена перед первой цифрой часа, переместить каретку за последнюю единицу времени (минут или секунд, в зависимости от вариации) |
| <span class="hot-key-Button">PgUp</span> \ <span class="hot-key-Button">Home</span>   | Поместить каретку перед первой цифрой часа                                                                                                                                                |
| <span class="hot-key-Button">PgDn</span> \ <span class="hot-key-Button">End</span>    | Перенести каретку за последнюю единицу времени (минут или секунд, в зависимости от вариации)                                                                                              |
| <span class="hot-key-Button">Space</span>                                             | - Если в любой части маски → ничего не происходит;                                                                                                                                        |
|         | - Если после ввода двух цифр (часа или минут) → переход к следующей части маски(минут или секунд);                                                                                                                                         |
|         | - Если после ввода одной цифры (в час или в минуты) → поле воспринимает эту клавишу как разделитель, подставляется двоеточие, а перед введенной цифрой подставляется ноль                                                                                                                                        |


### Дизайн и анимация

Поле с временем имеет фиксированную ширину, которая строится по формуле:

_левый отступ+маска+правый отступ_
    
Ширина маски для каждого языка будет своя, после ввода времени ширина не меняется, даже если введенное значение будет меньше ширины маски.

Левый отступ разный в зависимости от вариации с иконкой или без.  
Правый отступ всегда 16px.

<div style="margin-top: 15px;">
<img src="./assets/images/timepicker/timepicker-design.jpg" alt="timepicker" width="262"/>
</div>
