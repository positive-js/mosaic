@import '../design-tokens/tokens';
@import '../core/theming/theming';


@mixin card-type($color, $background, $shadow-color) {
    box-shadow:
        inset -1px 0 0 0 $shadow-color,
        inset 0 1px 0 0 $shadow-color,
        inset 0 -1px 0 0 $shadow-color;

    background-color: $background;

    border-left-color: $color;
}

@mixin mc-card-theme($theme) {
    $foreground: map-get($theme, foreground);
    $background: map-get($theme, background);

    $second: map-get($theme, second);
    $error: map-get($theme, error);
    $info: map-get($theme, info);
    $warning: map-get($theme, warning);
    $success: map-get($theme, success);

    $popup: map-get(map-get($theme, components), popup);

    $is-dark: map-get($theme, is-dark);

    .mc-card {
        color: map-get($foreground, text);

        &.mc-card_info {
            @if($is-dark) {
                @include card-type(mc-color($info), mc-color($info, darker), mc-color($second, darker));
            } @else {
                @include card-type(mc-color($info), mc-color($info, lighter), mc-color($second, lighter));
            }
        }

        &.mc-card_warning {
            @if($is-dark) {
                @include card-type(mc-color($warning), mc-color($warning, darker), mc-color($second, darker));
            } @else {
                @include card-type(mc-color($warning), mc-color($warning, lighter), mc-color($second, lighter));
            }
        }

        &.mc-card_success {
            @if($is-dark) {
                @include card-type(mc-color($success), mc-color($success, darker), mc-color($second, darker));
            } @else {
                @include card-type(mc-color($success), mc-color($success, lighter), mc-color($second, lighter));
            }
        }

        &.mc-card_error {
            @if($is-dark) {
                @include card-type(mc-color($error), mc-color($error, darker), mc-color($second, darker));
            } @else {
                @include card-type(mc-color($error), mc-color($error, lighter), mc-color($second, lighter));
            }
        }

        &.mc-card_white {
            background-color: map-get($popup, background);
        }

        &.mc-selected {
            background-color: map-get(map-get($theme, states), selected-color);
        }

        &:not(.mc-card_readonly):hover {
            .mc-card__overlay {
                background: map-get($background, overlay-hovered);
            }
        }

        &.cdk-keyboard-focused {
            box-shadow: 0 0 0 2px map-get(map-get($theme, states), focused-color);
        }
    }
}
