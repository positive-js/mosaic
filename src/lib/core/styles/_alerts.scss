@import '../theming/theming';
@import '../theming/palette';
@import '../styles/typography/typography-utils';


$hover-darken: 5%;

.mc-alert {
    display: flex;
    align-items: baseline;
    min-width: 10px;
    min-height: 1rem;
    padding: 14px 16px;
    vertical-align: top;
    text-align: left;
    border-radius: 3px;
    border: 1px solid transparent;

    &__dismissible {
        position: relative;

        .mc-alert__close {
            cursor: pointer;
            border: 0;
            background: transparent;
            position: absolute;
            z-index: 10;
            outline: 0;
            padding: 0;
            margin: 0;
            top: 16px;
            right: 12px;

            text-align: center;

            [mc-icon], .mc-icon {
                color: mc-color($mc-grey, 400);
                padding: 0;
                margin: 0;

                &:hover {
                    color: darken(mc-color($mc-grey, 400), $hover-darken);
                }
            }
        }
    }

    // Improve alignment and spacing of inner content
    * {
        margin: 0;
        padding: 0;
    }

    > p,
    > ul {
        margin-bottom: 0;
    }

    > p + p {
        margin-top: 5px;
    }
}

$mc-alert-error-border-color: mc-color($mc-red, 200);
$mc-alert-error-bg-color: mc-color($mc-red, 60);
$mc-alert-error-icon-color: mc-color($mc-red, 400);

$mc-alert-warning-border-color: mc-color($mc-yellow, 200);
$mc-alert-warning-bg-color: mc-color($mc-yellow, 60);
$mc-alert-warning-icon-color: mc-color($mc-yellow, 400);

$mc-alert-success-border-color: mc-color($mc-green, 200);
$mc-alert-success-bg-color: mc-color($mc-green, 60);
$mc-alert-success-icon-color: mc-color($mc-green, 400);

$mc-alert-info-border-color: mc-color($mc-blue, 200);
$mc-alert-info-bg-color: mc-color($mc-blue, 60);
$mc-alert-info-icon-color: mc-color($mc-blue, 400);

$mc-alert-default-border-color: mc-color($mc-grey, 200);
$mc-alert-default-bg-color: mc-color($mc-grey, 60);
$mc-alert-default-icon-color: mc-color($mc-grey, 400);

@mixin alert-base ($border-color, $bg-color, $icon-color) {
    background-color: $bg-color;
    border: 1px solid $border-color;


    [mc-icon], .mc-icon {
        color: $icon-color;
        margin-right: 8px;
    }
}

@mixin mc-alert-theme($theme) {

    .mc-alert {
        background-color: white;

        &__error {
            @include alert-base(
                $mc-alert-error-border-color,
                $mc-alert-error-bg-color,
                $mc-alert-error-icon-color);
        }

        &__warning {
            @include alert-base(
                $mc-alert-warning-border-color,
                $mc-alert-warning-bg-color,
                $mc-alert-warning-icon-color);
        }

        &__success {
            @include alert-base(
                $mc-alert-success-border-color,
                $mc-alert-success-bg-color,
                $mc-alert-success-icon-color);
        }

        &__info {
            @include alert-base(
                $mc-alert-info-border-color,
                $mc-alert-info-bg-color,
                $mc-alert-info-icon-color);
        }

        &__default {
            @include alert-base(
                $mc-alert-default-border-color,
                $mc-alert-default-bg-color,
                $mc-alert-default-icon-color);
        }
    }
}

@mixin mc-alert-typography($config) {

    .mc-alert:not(mc-alert__small) {
        @include mc-typography-level-to-styles($config, body);

        header {
            @include mc-typography-level-to-styles($config, subheading);
        }
    }

    .mc-alert.mc-alert__small {
        @include mc-typography-level-to-styles($config, caption);

        header {
            @include mc-typography-level-to-styles($config, caption);
        }
    }
}
